 #!/bin/sh
ls -l
VIADUCT_RUNTIME_PATH=.
export VIADUCT_RUNTIME_PATH
parameters1="-Xms40m -Xmx512m -Dsecurity.profile=default -Dorg.osgi.framework.bootdelegation="*" -Dorg.osgi.service.http.port=8084 -Dwmc2.host= -Dwmc2.host.port= -Dviaduct.management.rest.port=8181 -Dviaduct.jmx.host=localhost -Dviaduct.jmx.port=1617 -Dviaduct.jmx.transfer.port=1919 -Dcom.bf.service.io.connectors.webservice.cleanup.interval=60 -Dcom.bf.viaduct.metadata.location=metadata -Dcom.bf.viaduct.metadata.cachetype=0 -Dsystem.loglevel=3 -Dviaduct.log.enable=true -Dviaduct.log.path=logs -Dviaduct.log.port=21210 -Dviaduct.log.trace.io.port=21215 -Dsun.security.ssl.allowUnsafeRenegotiation=true -Dcom.csc.emms.runtime.name=runtime1 -Demm.runtime.name=Runtime -Demm.runtime.desc=Runtime -Demm.enable.events=false -Demm.events.list= -Demm.events.persistence.disable.list= -Dcache.load.runtime.start=true -Dcom.bf.viaduct.metadata.packageregistry.local=true -Dmb.enable=false -Dmb.relay.queue.protocol=vm -Dmb.relay.queue.host=localhost -Dmb.relay.queue.port=1616 -Dmb.error.event.id=11 -Dmb.persist.messages=true -Dosgi.console.enable.builtin=true -Dcache.load.runtime.start=true -Dcom.bf.viaduct.metadata.packageregistry.local=true -Dviaduct.start.ldap=true -Dmb.persist.messages=true"
parameters2=$(sed '/^ *#/d;s/#.*//' metadata/config/startupparameters.txt | xargs)
java $parameters1 $parameters2 -jar org.eclipse.osgi_3.8.2.v20130124-134944.jar server
